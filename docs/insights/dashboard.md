# ダッシュボード機能の実装に関する知見

## 概要
タスク管理システムにおけるダッシュボード機能は、ユーザーがタスクの全体像を素早く把握するための重要な機能です。この機能は以下の情報を提供します：

- 各ステータス（未着手、進行中、完了）ごとのタスク数
- 優先度（高、中、低）ごとのタスク数
- プロジェクトごとのタスク数
- 期限切れタスクの数
- 今日が期限のタスク数
- 最近完了したタスク（最大5件）

## 実装のポイント

### 1. ディレクトリ構造に基づいたタスク管理
タスク管理システムは、ディレクトリ構造を利用してタスクのステータスを管理しています：

- `tasks/todo/`: 未着手タスク
- `tasks/wip/`: 進行中タスク
- `tasks/completed/`: 完了タスク

このディレクトリ構造は、タスクのライフサイクル管理を単純化し、ファイルシステムをデータベースとして利用することで、複雑なデータベース設計を回避しています。

### 2. ファイルパースの最適化
マークダウン形式のタスクファイルから必要な情報を抽出するために、正規表現を利用したパーサーを実装しました。このパーサーは以下の部分を抽出します：

- フロントマター（YAMLフォーマット）からのメタデータ
- 本文からのタイトルや説明文

### 3. パフォーマンスの考慮
ダッシュボードデータの収集は、多数のファイル読み込みを伴うため、パフォーマンスに注意が必要です。現在の実装では、各ディレクトリのファイルを順次処理していますが、将来的にタスク数が増加した場合は、以下の最適化が考えられます：

- キャッシュ機構の導入
- 非同期処理による並列読み込み
- インデックスファイルの利用

### 4. テスト戦略
ダッシュボード機能のテストでは、以下のアプローチを採用しました：

- `fs-extra`モジュールをモックして、実際のファイルシステムにアクセスせずにテスト
- 現実的なテストデータを用意し、異なるシナリオをカバー
- 日付関連の機能テスト（期限切れタスクの検出など）では、`Date.now()`をモックして一定の日時を設定 