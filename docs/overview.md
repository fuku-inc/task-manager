# タスク管理システム 概要

## プロジェクトの目的
このプロジェクトは、コマンドラインとウェブインターフェースの両方からアクセス可能な、シンプルで効率的なタスク管理システムを構築することを目的としています。マークダウン形式のファイルをベースにタスクを管理し、豊富なメタデータと詳細な記録を可能にします。

## 主要機能
- タスクの作成、更新、完了、削除
- タスクのステータス管理（未着手、進行中、完了）
- タスクの優先度設定（高、中、低）
- プロジェクト別のタスク管理
- タグによるタスク分類
- 期限日の設定と管理
- ダッシュボード機能：タスクの全体像を視覚化

## 技術スタック
- 言語: TypeScript
- バックエンド: Node.js
- ウェブフレームワーク: Express.js / Hono
- データストレージ: ファイルシステム（マークダウン形式のタスクファイル）
- テスト: Jest

## アーキテクチャ
- **レイヤー構造**:
  - MCPレイヤー (`src/mcp/`): 外部インターフェース（APIサーバー、コマンドラインツール）
  - コアレイヤー (`src/core/`): ビジネスロジック（タスク操作の中核機能）
  - ユーティリティレイヤー (`src/utils/`): 共通機能（ファイル操作、日付処理など）

## 現状の実装状況（2025年4月17日現在）

### 完了した機能
- コアモジュール：
  - タスクの作成
  - タスク一覧表示
  - タスクのステータス変更
- ユーティリティ機能：
  - タスクパーサー：マークダウンファイルからのメタデータ抽出
  - ファイル操作ユーティリティ
  - 日付処理機能
- ダッシュボード機能：
  - タスク数の集計（未着手、進行中、完了）
  - 優先度別のタスク集計
  - プロジェクト別のタスク集計
  - 期限切れタスクの検出
  - 今日が期限のタスクの検出
- テスト環境：
  - Jestによるユニットテスト
  - ファイルシステム操作のモックテスト
  - 日付処理のモックテスト

### 進行中の機能
- ウェブAPI：
  - 基本的なエンドポイント設計
  - タスク操作APIの実装
- モバイル対応：
  - レスポンシブデザインの検討

### 今後の課題
- ユーザー認証機能
- 複数ユーザー対応
- タスクの依存関係管理
- 通知システムの実装
- モバイルアプリの開発

## 今後の計画
- **短期目標（1週間以内）**:
  - `deleteTask`と`updateTask`の実装を完了させる
  - エラーハンドリングの強化
  - 基本的なウェブインターフェースの実装開始
- **中期目標（1ヶ月以内）**:
  - フロントエンドUIの完成
  - APIエンドポイントの完全実装
  - パフォーマンス最適化
- **長期目標**:
  - モバイルアプリ開発
  - 他サービスとの連携機能

## 実行方法

### 開発環境
```
npm install   # 依存関係のインストール
npm run dev   # 開発モードでの起動
```

### 本番環境
```
npm install   # 依存関係のインストール
npm run build # ビルド
npm start     # サーバー起動
```

### テスト実行
```
npm test      # テスト実行
```

## 技術的知見

### ファイルシステム操作
当プロジェクトでは、Node.jsの`fs-extra`パッケージを活用してファイルシステム操作を行っています。タスクデータはマークダウン形式で保存され、ディレクトリ構造によってタスクのステータスを管理しています。

### テスト戦略
Jestを使用したユニットテストに加え、ファイルシステム操作をモック化することで、テストの再現性と安定性を確保しています。特に日付依存のテストでは、`Date`オブジェクトをモック化する手法を採用しています。

### パフォーマンス考慮点
タスク数が増加した場合のパフォーマンス低下に対応するため、データのキャッシュ機構や非同期処理の最適化を計画しています。